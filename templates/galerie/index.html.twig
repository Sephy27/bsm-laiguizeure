{% extends 'base.html.twig' %}

{% block title %}Galerie{% endblock %}

{% block body %}
<section class="content gallery-page">
  <div class="container">
    {# Intro premium #}
    <header class="gallery-intro text-center mb-4">
      <p class="text-uppercase small text-muted fw-semibold mb-1">Réalisations</p>
        <h1 class="h3 mb-2">Galerie de travaux réalisés</h1>
          <p class="text-muted mb-0 small">
            Avant / après, rénovations, aménagements, affûtage, menuiserie et ferronnerie… 
            découvrez en images quelques exemples de réalisations effectuées pour mes clients
            autour de Gaillon et ses environs.
          </p>
    </header>
    <div class="container text-center my-4">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {% for galerie in galerie %}
  <div class="col">
    <div class="card shadow-sm border-0 overflow-hidden">

      <div class="ratio ratio-4x3">
        {% if galerie.isVideo() %}
          <video
            class="w-100 h-100 object-fit-cover"
            controls
            preload="metadata"
          >
            <source src="{{ asset('images/uploads/') ~ galerie.featuredImage }}" type="video/mp4">
            Votre navigateur ne supporte pas la vidéo HTML5.
          </video>
        {% else %}
          <img
            src="{{ asset('images/uploads/') ~ galerie.featuredImage }}"
            class="w-100 h-100 object-fit-cover zoom-thumb"
            alt="{{ galerie.name }}"
            data-zoom-src="{{ asset('images/uploads/') ~ galerie.featuredImage }}"
          >
        {% endif %}
      </div>

    </div>
  </div>
{% endfor %}


      </div>
    </div>

      <dialog id="zoomDlg" class="zoom-dialog" tabindex="-1" aria-label="Agrandissement de l’image">
        <button type="button"
                class="btn btn-danger btn-lg position-absolute top-0 end-0 m-2"
                aria-label="Fermer"
                data-zoom-close>
          &times;
        </button>
        <img id="zoomImg" alt="" class="img-fluid rounded shadow">
      </dialog>
  </div>
</section>
{% endblock %}
